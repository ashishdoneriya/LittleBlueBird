
<div ng-controller="FriendCtrl">

<div class="row">
  <div class="span7 box">
  
    <div class="row">
      <div class="span7 bg_efefef">
        <span class="font24 marg10">Friends</span>
          <div class="pull-right">
            <div class="btn-group">
			    <a class="btn dropdown-toggle" data-toggle="dropdown">+</a>
			    <ul class="dropdown-menu">
			        <li><a ng-click="fbinviteasfriend()">Add Facebook Friends</a></li>
			        <li><a ng-click="addlbbfriend()">Add LittleBlueBird Friends</a></li>
			        <li><a ng-click="beginnewuser()">Create Account for Someone</a></li>
			    </ul>
			</div>
	      </div>
      </div>
    </div>
    
    <div class="row">
      <div class="span7 bgwhite">
      </div>
    </div>
    
    
  </div>
</div>


<!-- BEGIN OLD STUFF -->


            <!-- See:  http://docs-next.angularjs.org/guide/dev_guide.forms 
                 This page is a copy of register.html except the title here is Create Account
                 and on register.html it's Sign Up.   Also the save button here creates a new
                 user but doesn't send the user to the welcome screen like in register.html
            -->
<span ng-show="mode=='createaccount'">
<div class="row">
  <div class="span7"><P><h4>Create Account for Someone</h4></P></div>
</div> 
<div class="row">
  <div class="span7">All fields required</div>
</div> 
<div class="row">
  <div class="span7">
    <div class="row">
      <div class="span3" ng-form="newuserform" ng-controller="CreateAccountCtrl">

        <div class="box-white">
        <div class="row">
          <div class="span1">Name</div>
          <div class="span2 margleft0">
            <input class="w110" maxlength="140" value="" type="text" name="fullname" ng-model="newuser.fullname" ng-required="true" />
          </div>
        </div>

        <div class="row">
          <div class="span1">Email</div>
          <div class="span2 margleft0">
            <input class="w110" maxlength="140" value="" name="email" type="email" ng-model="newuser.email" ng-required="true">
            <span ng-show="newuserform.email.$dirty">
              <span ng-show="newuserform.email.$error.email"><img src="img/red_x.png" id="emailinvalid" title="Email is invalid"></span>
            </span>
          </div>
        </div>  

        <div class="row">
          <div class="span1">Username</div>
          <div class="span2 margleft0">
            <input class="w110" maxlength="140" value="" name="username" type="text" ng-model="newuser.username" ng-change="isUsernameUnique(newuser, newuserform)" required />
            <span ng-show="newuserform.username.$dirty">
              <span ng-show="newuserform.username.$error.taken">
                <img src="img/red_x.png" id="invalidusername" title="Username is taken">
              </span>
            </span>
          </div>
        </div>

        <div class="row">
          <div class="span1">Password</div>
          <div class="span2 margleft0">
            <input class="w110" ng-model="newuser.password" type="password" name="password" value="*******" ng-required="true" />
          </div>
        </div>

        <div class="row">
          <div class="span1">Again</div>
          <div class="span2 margleft0">
            <input class="w110" ng-model="newuser.passwordAgain" type="password" name="passwordAgain" value="*******" ng-required="true" />
            <span ng-show="newuserform.passwordAgain.$dirty">
              <span ng-show="newuser.passwordAgain != newuser.password && !newuserform.passwordAgain.$error.required">
                <img src="img/red_x.png" id="passwordsdontmatch" title="Passwords don't match">
              </span>
            </span> 
          </div>
        </div>
        
        <div class="row">
          <div class="span2 offset1">    
          
            <div ng-hide="userfieldsvalid(newuser)" >
              <a class="btn" ng-click="cancel();">Cancel</a>
              <a ng-disabled="true" class="btn" id="invalidform" title="Not Ready Yet">Save</a>
            </div>    
          
            <div ng-show="userfieldsvalid(newuser)" >
              <a class="btn" ng-click="cancel();">Cancel</a>
              <a class="btn btn-primary" ng-click="createonthefly(newuser, newcircle)">Save</a>
            </div>
          </div>
        </div>
        </div> <!-- end div:class=box-white -->
      
      </div>
      
      
      <div class="span3">
        <B>Use this form for...</B>
        <P>Create accounts for children, family members and other friends</P>
        <P>
          <ul>
            <li>that aren't on Facebook</li>
            <li>that don't have email (register with your email instead)</li>
            <li>that wouldn't register otherwise (you still need to manage their list)</li>
          </ul>
        </P>
      </div>
    </div>
  </div>
</div> 
</span> <!-- end of span: mode='createaccount' --> 


<span ng-show="mode=='addlbbfriend'">
			      <div class="row">
		            <div class="span3"><h4>Add LittleBlueBird Friends</h4></div>
		          </div>
			      <div class="row">
		            <div class="span3"><input search-users type="text" class="span3" ng-model="search"></div>
		          </div>
				  <div class="row">
				    <div class="span3">      
				      <span ng-show="usersearch=='loaded'">
	                    <div class="box-white">
				          <span ng-show="noonefound">
			                <div class="row">
			                  <div class="span3">No one found <p><a ng-click="beginnewuser();">Create Account for this Person</a></p></div>
			                </div>
				          </span>
				          <span ng-hide="noonefound">
				            <div ng-repeat="person in people | filter:search">
				              <span ng-hide="person.hide">
				                <div class="row margbottom5 margleft0 highlight-box-white" ng-click="addparticipant($index, person, newcircle)">
				                  <div class="span1 marg0"><img height=50 width=50 ng-src="{{person.profilepicUrl}}" /></div>
				                  <div class="span2 marg0 padtop5 font14">{{person.fullname}}</div>
				                </div>
				              </span>
				            </div>
				          </span>
				        </div>
				      </span>
				      
				    </div>
			      </div>
				  <div class="row">
				    <div class="span3"> 
                      <a class="btn" ng-click="cancel();">Cancel</a>
				    </div>
			      </div> 	
			      
			      
			      
</span> <!-- mode='addlbbfriend' -->


<span ng-show="mode=='friends'">
  <div class="row"><div class="span7">&nbsp;</div></div>
  
  <span ng-show="user.friends.length==0">
    <div ng-include src="'partials/friendsnone.html'"></div>
  </span>
  
  <span ng-hide="user.friends.length==0">
  <div class="row">
    <div class="span6">
      <div ng-repeat="friend in user.friends">
          <div ng-include src="'partials/friend.html'"></div>
      </div>
    </div>    
  </div>
  </span> <!-- span ng-hide="user.friends.length==0" -->
  
</span> 



</div>