<!-- 
/buy/:circleId/:showUserId/:giftId
/editgift/:circleId/:showUserId/:giftId
/deletegift/:circleId/:showUserId/:giftId
/giftlist/:circleId/:showUserId
/mywishlist
/wishlist/:showUserId

All of the above url's end up including this page.  Need to pull out the parameters here rather
than relying on ng-click from the calling page.  Using ng-click means the url's can't be made into
hyperlinks, which is what we want if we want to post items to FB.
 -->


<div ng-controller="Gift2Ctrl"></div>

<div ng-controller="UserCtrl">
  <div ng-controller="CircleCtrl">
    <div ng-controller="GiftCtrl">
    
      <span ng-hide="gifts.mylist"> <!-- Hide. Doesn't apply for "my wish list" -->
        <span ng-show="isExpired()">
          <div class="row alert alert-success margleft10">
            <div class="span6">
              <h4 class="alert-heading">{{circle.name}} has past</h4>
              This is what {{showUser.first}} got for {{circle.name}}
            </div>
          </div>
        </span>
      </span>
          
      <div class="row margbottom5">
        <div class="span5">
          <div ng-include src="'partials/circleinfo.html'"></div>
        </div>
            
        <div class="span1 offset1 pull-right">
          <span ng-hide="gift.adding">
            <a class="btn btn-mini btn-success font18 pull-right" ng-click="gift.adding=true;initNewGift();">+</a>
          </span>
        </div>
      </div> <!-- div class="row" -->
          
          
      <div class="row">
            
        <!-- everything goes in here -->
        <div class="span7 simple-top">
            
          <span ng-show="gift.adding">
	        <ng-include src="'partials/giftlist/addgiftform.html'"></ng-include>
          </span>

          <div ng-repeat="gift in gifts">
            <!-- review usage of: gift -->
              
            <span ng-hide="gift.editing || gift.buying"> 
              <div class="row gift marg0 margtop5">   
	            <ng-include src="'partials/giftlist/viewitem.html'"></ng-include>  
              </div>                
            </span>
            <!-- end:  hide gift.editing || gift.buying -->  
              
              
            <span ng-show="gift.buying">
              <div class="row gift marg0 margtop5">   
	            <ng-include src="'partials/giftlist/buygiftform.html'"></ng-include>   
              </div>                
            </span>
            <!-- end:  hide gift.buying --> 
              
                  
            <span ng-show="gift.editing">
              <div class="row gift marg0 margtop5">   
	            <ng-include src="'partials/giftlist/editgiftform.html'"></ng-include>  
              </div>                
            </span>
            <!-- end:  show gift.editing -->    
                  
                  
          </div> <!-- div ng-repeat="gift in gifts" -->

            
        </div>
        <!-- everything goes in here -->
            
      </div> <!-- div class="row" -->
          
      
    </div>  <!-- GiftCtrl -->
  </div>  <!-- CircleCtrl -->
</div>  <!-- UserCtrl -->
