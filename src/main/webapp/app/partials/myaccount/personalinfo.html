
<div ng-controller="MyAccountCtrl">

    <div class="row">
      <div class="span7 roundedtop10 bgbluegradient white pad10">
        <span class="font28">Personal Info</span>
      </div>
    </div>

    <div class="row">
      <div class="span7 roundedbottom10 pad10 bgwhite">
      
      
      <span ng-show="user.facebookId != null" class="font14">
      <P>&nbsp;</P>
      <P class="font14">Your personal information like name and email address is stored on Facebook</P>
      <P>&nbsp;</P>
      </span> <!-- ng-show user.facebookId != null -->
      
      <span ng-show="user.facebookId == null">
      <form novalidate name="regForm">
        <div class="row">
          <div class="span5">
                                      
            <div class="row">
              <div class="span1">Name</div>
              <div class="span4">
                <input class="span3" maxlength="140" value="" type="text" name="fullname" ng-model="user.fullname" required />
                <span ng-show="regForm.fullname.$pristine">*</span>
                <span ng-show="regForm.fullname.$dirty">
                  <span ng-show="regForm.fullname.$error.required"><img src="img/red_x.png" id="fullnamerequired" title="Name is required"></span>
                </span>
              </div>
              <input class="input-small" maxlength="140" value="" type="hidden" name="id" ng-model="user.id" />
            </div>
            <div class="row">
              <div class="span1">Email</div>
              <div class="span4">
                <input class="span3" maxlength="140" value="" name="email" type="email" ng-model="user.email" required>
                <span ng-show="regForm.email.$pristine">*</span>
                <span ng-show="regForm.email.$dirty">
                  <span ng-show="regForm.email.$error.required"><img src="img/red_x.png" id="emailrequired" title="Email is required"></span>
                  <span ng-show="regForm.email.$error.email"><img src="img/red_x.png" id="emailinvalid" title="Email is invalid"></span>
                </span>
              </div>
            </div>  
            <div class="row">
              <div class="span1">Username</div>
              <div class="span4">
                <input class="span3" maxlength="140" value="" name="username" type="text" ng-model="user.username" required />
                <span ng-show="regForm.username.$pristine">*</span>
                <span ng-show="regForm.username.$dirty">
                  <span ng-show="regForm.username.$error.required">
                    <img src="img/red_x.png" id="invalidusername" title="Username is required">
                  </span>
                </span>
              </div>
            </div>
            <div class="row">
              <div class="span1">Birthday</div>
              <div class="span4">
                <input class="span3" type="text" ng-model="user.dateOfBirthStr" name="dateOfBirth" ng-pattern="/^(\d{1,2})/(\d{1,2})/(\d{4})$/" />
                <span ng-show="regForm.dateOfBirth.$dirty">
                  <span ng-show="regForm.dateOfBirth.$error.pattern">
                    <img src="img/red_x.png" id="invaliddobb" title="Enter Birthday as MM/dd/yyyy">
                  </span>
                </span>
              </div>
            </div>
          </div>
    
          <div class="span2">
          
            <div class="row">
                  <div style="width:150px; height:150px; overflow:hidden;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;">
                    <div style="margin-top:{{user.profilepicmargintop}};margin-left:{{user.profilepicmarginleft}}">
                        <img height="{{user.profilepicadjustedheight}}" width="{{user.profilepicadjustedwidth}}" ng-src="{{user.profilepicUrl}}"/>
                    </div>
                  </div>
            </div>
            
          </div>
    
        </div>
  
        <div class="row">
          <div class="span1">Profile Pic</div>
          <div class="span6">
                <input class="span5" maxlength="1028" value="" type="url" ng-model="user.profilepic" name="profilepic" ng-validate="url" />
                <span ng-show="regForm.username.$pristine">&nbsp;&nbsp;</span>
                <span ng-show="regForm.profilepic.$dirty">
                  <span ng-show="regForm.profilepic.$error.url">
                    <img src="img/red_x.png" id="invalidprofilepic" title="URL is invalid">
                  </span>
                </span> 
          </div>
        </div>
  
        <div class="row">
          <div class="span4">Bio</div>
        </div>
      
        <div class="row">
          <div class="span7">
            <textarea class="span7" rows="10" ng-model="user.bio" cols="80"></textarea>
          </div>
        </div>



        <div class="row">
          <div class="span3 offset1">    
            <div ng-show="regForm.$invalid" >
              <a ng-disabled="true" class="btn span1" id="invalidform" title="Not Ready Yet" data-content="The form isn't ready to submit yet.  You still have fields to fix and complete.">Save</a>
              <a href="#/me" class="btn span1">Cancel</a>
            </div>    
          
            <div ng-show="regForm.$valid" >
              <a href="#/me" class="btn btn-primary span1" ng-click="save(user)">Save</a>
              <a href="#/me" class="btn span1">Cancel</a>
            </div>
          </div>
    
        </div>
      </form>
      </span> <!-- ng-show user.facebookId == null -->

      </div> <!-- div class="span7 roundedbottom10" -->
    </div>


</div>