<!DOCTYPE html>
<html xmlns:ng="http://angularjs.org/" ng-app="project">
<head>
    <title>LittleBlueBird</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    
    <!-- COMMENT OUT TO WORK WITHOUT INTERNET CONNECTION -->
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.css"/>
    <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.js"></script>
    <!-- COMMENT OUT TO WORK WITHOUT INTERNET CONNECTION -->
    
    
    <!-- UNCOMMENT TO WORK WITHOUT INTERNET CONNECTION
    <link rel="stylesheet" href="css/jquery.mobile-1.3.1.css"/>
    <script src="js/jquery-1.8.2.js"></script>
    <script src="js/jquery.mobile-1.3.1.min.js"></script>
    -->
    
    <link href="css/mobiscroll-2.4.custom.min.css" rel="stylesheet" type="text/css" />
    <script src="js/mobiscroll-2.4.custom.min.js" type="text/javascript"></script>
    <link href="css/lbb-mobile.css" rel="stylesheet" type="text/css" />
    
    <!-- http://code.angularjs.org/ here's where all the different versions of angular are. Way better than keeping track of them myself. -->
    <script src="js/angular.js"></script>
    <script src="js/angular-resource.js"></script>
  
    <script src="js/services/CircleParticipant.js"></script>
    <script src="js/services/Circle.js"></script>
    <script src="js/services/Email.js"></script>
    <script src="js/services/Gift.js"></script>
    <script src="js/services/User.js"></script>
    <script src="js/services.js"></script>
    <script src="js/controllers.js"></script>
    
  <meta charset="utf-8">
  <meta property="og:title" content="LittleBlueBird" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/" />
  <meta property="og:image" content="img/LittleBlueBird-icon.png" />
  <meta property="og:site_name" content="LittleBlueBird" />
  <meta property="og:description" content="LittleBlueBird app" />
  <meta property="fb:app_id" content="136122483829" />

  <!-- 2013-07-23  I think this works but don't want it now - fills up the js console -->
  <!-- script src="http://debug.phonegap.com/target/target-script-min.js#anonymous"></script -->
  
  <!-- cordova -->
  <script type="text/javascript" src="cordova.js"></script>
  <!-- cordova facebook plugin -->
  <script type="text/javascript" src="cdv-plugin-fb-connect.js"></script>
  <!-- facebook js sdk -->
  <script type="text/javascript" src="facebook-js-sdk.js"></script>
  <script type="text/javascript" src="barcodescanner.js"></script>
  
  <script type="text/javascript" charset="utf-8">

    // Wait for Cordova to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);

    // Cordova is ready
    //
    function onDeviceReady() {
      setTimeout(function() {
        navigator.splashscreen.hide();
      }, 2000);
    }
    
    function pageLoaded() {
      
                var ua = navigator.userAgent.toLowerCase();
                if(ua.indexOf('iphone') == -1 && ua.indexOf('android') == -1 && ua.indexOf('blackberry') == -1) {
      
	            
				    window.fbAsyncInit = function() {
				        console.log("FB initing --------------- //connect.facebook.net/en_US/all.js");
				        FB.init({
				          appId      : '136122483829', // App ID
				          channelUrl : 'http://www.littlebluebird.com/gf/channel.html', // Path to your Channel File
				          status     : true, // check login status
				          cookie     : true, // enable cookies to allow the server to access the session
				          oauth      : true,
				          xfbml      : true  // parse XFBML
				        });
				        
				        $.browser.chrome = /chrome/.test(navigator.userAgent.toLowerCase());
					    if ($.browser.chrome || $.browser.msie) {
						    //FB.XD._origin = window.location.protocol + "//" + document.domain + "/" + FB.guid();
						    //FB.XD.Flash.init();
						    //FB.XD._transport = "flash";
						} else if ($.browser.opera) {
						    FB.XD._transport = "fragment";
						    FB.XD.Fragment._channelUrl = window.location.protocol + "//" + window.location.host + "/";
						}
				        
				    };
				
				    // Load the SDK Asynchronously
				    (function(d){
				        var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
				        if (d.getElementById(id)) {return;}
				        js = d.createElement('script'); js.id = id; js.async = true;
				        js.src = "http://connect.facebook.net/en_US/all.js";
				        ref.parentNode.insertBefore(js, ref);
				    }(document));
	            
	            
                }       
      
      
    }

  </script>
  
  	
</head>
<body ng-controller="LbbController" onLoad="pageLoaded()">


<div id="home" data-role="page">
    <div data-role="header" data-theme="b"><h1>LittleBlueBird</h1></div>
	
	<div data-role="content">
		<p><a href="#welcome" ng-click="fblogin()" data-role="button" data-theme="b">Login via Facebook</a> </p>	
		<p><a href="#lbblogin" data-role="button" data-theme="b">Login via LittleBlueBird</a> </p>	
		<p><a href="#register" data-role="button" data-theme="b" ng-click="initNewUser()">Register</a> </p>	
		<p><a href="#forgot" data-role="button" data-theme="b">Forgot User/Pass?</a> </p>	
		
		<span ng-show="testing">
		<p><a href="#test" data-role="button" data-theme="b">test</a> </p>
		</span>
			
	</div><!-- /content -->

	<div data-role="footer" data-theme="b" data-position="fixed">
	  <h4></h4>
	</div><!-- /footer -->

</div>
<div id="lbblogin" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>LittleBlueBird</h1>
	</div><!-- /header -->

	<div data-role="content">
		<form novalidate name="loginForm">
		  <fieldset data-role="fieldcontain">
		    <p>
		        <label for="username" class="ui-hidden-accessible">Username:</label>
    		    <input id="username" name="username" type="text" ng-model="username" placeholder="Username" required />
    		</p>
		    <p>
		        <label for="password" class="ui-hidden-accessible">Password:</label>
    		    <input id="password" name="password" type="password" ng-model="password" placeholder="Password" required />
    		</p>
		    <p>
		      <span ng-show="loginForm.$valid">
		        <a href="#welcome" ng-click="lbblogin()" data-role="button" data-theme="b">Login</a>
		      </span>
		      <span ng-show="loginForm.$invalid">
		        <button disabled="" data-theme="b">Login</button>
		      </span>
    		</p>
    	  </fieldset>	
		</form>		
	</div><!-- /content -->

	<div data-role="footer" data-theme="b" data-position="fixed">
	  <h4></h4>
	</div><!-- /footer -->
</div><!-- /page -->
<div id="forgot" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>LittleBlueBird</h1>
	</div><!-- /header -->

	<div data-role="content">
		<form novalidate>
		    <div>
		        <label for="email" class="ui-hidden-accessible">Email:</label>
    		    <input id="email" name="email" type="text" ng-model="email" placeholder="Email" />
    		</div>
		    <div>
		        <a ng-click="emailIt(email)" data-role="button" data-theme="b">Email User/Pass</a>
    		</div>
		</form>	
	</div><!-- /content -->

	<div data-role="footer" data-theme="b" data-position="fixed">
	  <h4></h4>
	</div><!-- /footer -->
</div><!-- /page -->
<div id="register" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Register</h1>
	</div><!-- /header -->

	<div data-role="content">
		<form novalidate name="regForm">
		    <fieldset data-role="fieldcontain">
		      <P>
		        <label for="fullname" class="ui-hidden-accessible">Name:</label>
    		    <input id="fullname" name="fullname" type="text" ng-model="newuser.fullname" placeholder="Name" required/>
    		  </P>
		      <P>
		        <label for="email" class="ui-hidden-accessible">Email:</label>
    		    <input id="email" name="email" type="email" ng-model="newuser.email" placeholder="Email" required/>
    		  </P>
		      <P>
		        <label for="username" class="ui-hidden-accessible">Username:</label>
    		    <input id="username" name="username" type="text" ng-model="newuser.username" placeholder="Username" ng-change="isUsernameUnique(newuser, regForm)"  required/>
    		  </P>
		      <P>
		        <label for="password" class="ui-hidden-accessible">Password:</label>
    		    <input id="password" name="password" type="password" ng-model="newuser.password" placeholder="Password" required/>
    		  </P>
		      <P>
		        <label for="passagain" class="ui-hidden-accessible">Password (again):</label>
    		    <input id="passagain" name="passagain" type="password" ng-model="newuser.passagain" placeholder="Password (again)" required/>
    		  </P>
    		  
    		  <!-- P>
		          <a ng-href="#" ng-click="seeform(regForm)" data-role="button" data-theme="b">see form</a>
		      </P -->
		      
		      <P>
		        <span ng-hide="regForm.$invalid || (newuser.passagain != newuser.password && !regForm.passagain.$error.required) || (regForm.username.$dirty && regForm.username.$error.taken)">
		          <a ng-href="#welcome" ng-click="register(newuser)" data-role="button" data-theme="b">Register</a>
		        </span>
		        <span ng-show="regForm.$invalid || (newuser.passagain != newuser.password && !regForm.passagain.$error.required) || (regForm.username.$dirty && regForm.username.$error.taken)">
		          <button disabled="" ng-click="register(newuser)" data-role="button" data-theme="b">Register</button>
		        </span>
    		  </P>
              <span ng-show="regForm.username.$dirty">
                <span ng-show="regForm.username.$error.taken">
                  <P style="color:#cc0000;">Usernames must be unique.  '{{newuser.username}}' has already been taken.</P>
                </span>
              </span>
    		</fieldset>
		
		</form>	
		
	</div><!-- /content -->

	<div data-role="footer" data-theme="b" data-position="fixed">
	  <h4>LittleBlueBird</h4>
	</div><!-- /footer -->
</div><!-- /page -->
<div id="welcome" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1><span ng-show="user!=null">{{user.fullname}}</span><span ng-hide="user!=null">Who Are You?</span></h1>
	</div><!-- /header -->

	<div data-role="content">
	
	  <span ng-show="users.length > 1">
	    <P>Your Facebook email address: {{fbuser.email}} is associated with these LittleBlueBird users.</P>
		<P>Which one of these people is you?</P>
		
	      <div jquery-mobile-tpl>
		    <ul id="whoareyouview" data-role="listview" data-inset="true" class="ui-icon-alt" repeat-done="" ng-cloak>
		      <li ng-repeat="u in users">
		        <a href="#welcome" ng-click="mergeaccount(u)">
		          I am {{u.fullname}}
		        </a>
		      </li>
		    </ul>
		  </div>
	  </span>
	
	  <span ng-show="logingood">
	  <ul data-role="listview" data-inset="true" class="ui-icon-alt">
	    <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" data-transition="slide">My Wish List</a></li>
	    <li><a href="#events" ng-click="events();setfootermenu('events')" data-transition="slide">Events</a></li>
	    <li><a href="#friends" ng-click="friends();setfootermenu('friends')" data-transition="slide">Friends</a></li>
	  </ul>
	  
	  <P><a ng-href="#scanresults" ng-click="scan()" data-role="button" data-theme="b">Scan !</a></P>
	  </span>
	
	
	</div><!-- /content -->
	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>
<div id="woops" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>LittleBlueBird</h1>
	</div><!-- /header -->

	<div data-role="content">
	  <p>Woops!  Not sure how you got here</p>
	  <p>Hit the Back button</p>
	</div><!-- /content -->

	<div data-role="footer" data-theme="b" data-position="fixed">
	  <h4></h4>
	</div><!-- /footer -->
</div><!-- /page -->

<div id="events" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Events</h1>
		<a href="#addevent" data-transition="slideup" data-icon="plus" class="ui-btn-right">Add</a>
	</div><!-- /header -->

	<div data-role="content">
	
	  <span ng-show="loading=='true'">Loading...</span>
	
	  <span ng-hide="loading=='true'">
	      <fieldset data-role="controlgroup" data-type="horizontal" data-mini="true">
	        <input name="event-radio-group" id="radio-choice-d" value="current" checked="checked" type="radio" ng-click="eventfilter='current';events()">
	        <label for="radio-choice-d">Current</label>
	        <input name="event-radio-group" id="radio-choice-e" value="past" type="radio" ng-click="eventfilter='past';events()">
	        <label for="radio-choice-e">Past</label>
	        <input name="event-radio-group" id="radio-choice-c" value="all" type="radio" ng-click="eventfilter='all';events()">
	        <label for="radio-choice-c">&nbsp; All &nbsp;</label>
	      </fieldset>
			  
	      <div ng-show="user.circles.length==0">
	        <P>You do not belong to any events</P>
	        <P>You are either very unpopular or you are a new user</P>
	        <P>Create your first event by clicking "Add" in the top right</P>
	      </div>
		  
	      <div jquery-mobile-tpl>
		    <ul id="eventview" data-role="listview" data-inset="true" class="ui-icon-alt" repeat-done="">
		      <li ng-repeat="c in user.circles | filter: eventDateFilter" ng-cloak>
		        <a href="#participants" ng-click="setcircle(c)" data-transition="slide">
		          <p><h4 class="wraptext">{{c.name}}</h4></p>
		          <p>{{c.date | date:'MMM d, yyyy'}}</p>
		        </a>
		      </li>
		    </ul>
		  </div>
	  </span>
	  
	</div><!-- /content -->


	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>
<div id="wishlist" data-role="page">

	<div data-role="header" data-theme="b">
		<a href="#welcome" data-rel="back" data-icon="arrow-l" data-transition="slide">Back</a>
		<h1>Wish List</h1>
		<a href="#edititem" ng-click="initNewGift()" data-transition="slideup" data-icon="plus">Add</a>
	</div><!-- /header -->

	<div data-role="content">
	
	
	  <span ng-show="searching">Searching...</span>
	  

	  <span ng-hide="searching">
	
	
		  <!-- When adding recipient(s) by name/email, we have to check the db first to see if the email does in fact exist.
		  This check keeps us from creating duplicate accounts for the same person.  The problem is: If our query returns one 
		  or more people, we have to ask the user to review the people we found and tell us if the person he wants is in 
		  the list or not.  That's what we are doing in the block below. -->
		  <span ng-show="mayberecipients.length > 0">
		  
		  
		      <span ng-show="mayberecipients.length == 1">
		        We found a '{{mayberecipients[0].fullname}}' having the email address you entered.  Is this who you're looking for?
		      
		        <P>&nbsp;</P>
		        <P>&nbsp;</P>
		        <P>&nbsp;</P>
		      
			    <div class="ui-grid-a">
			      <div class="ui-block-b"><a data-role="button" ng-href="#" ng-click="selectrecipient(newrecipient, currentgift, true)">No</a></div>
			      <div class="ui-block-b"><a data-role="button" ng-href="#" ng-click="selectrecipient(mayberecipients[0], currentgift, false)" data-theme="b">Yes</a></div>
				</div>
		      </span>
	
		
		      <span ng-show="mayberecipients.length > 1">
			      <P>The email address you entered is associated with these {{mayberecipients.length}} people.  If you see the person you're looking for, tap the name.  Otherwise, click "Not Found"</P>
			      
			      <div jquery-mobile-tpl>
				    <ul id="mayberecipientsview" data-role="listview" data-inset="true" repeat-done="" ng-cloak>
				      <li ng-repeat="somebody in mayberecipients">
				        <a href="#" ng-click="selectrecipient(somebody, currentgift, false)" data-transition="slide">
				          {{somebody.fullname}}
				        </a>
				      </li>
				    </ul>
				  </div>
			      
			      <P><a data-role="button" ng-href="#" ng-click="selectrecipient(newparticipant, currentgift, true)" data-theme="a">Not Found</a></P>
		      </span>
		      
		      
		  </span>
		  <!-- span ng-show="mayberecipients.length > 0" -->
		
		
		
		
		  <!-- When adding recipient(s) by name/email, we have to check the db first to see if the email does in fact exist.
		  This check keeps us from creating duplicate accounts for the same person.  The problem is: If our query returns one 
		  or more people, we have to ask the user to review the people we found and tell us if the person he wants is in 
		  the list or not.  
	
	      This block is where we come if the email address isn't found.  This is what we want to happen because it's less
	      complicated. -->
		  <span ng-hide="mayberecipients.length > 0">
		  
		  
		      <span ng-show="circle!=null">
		        <ul data-role="listview">
			      <li data-icon="arrow-l">
			       <a ng-href="#participants">
			         <p><h4>{{circle.name}}</h4></p>
			         <p>{{circle.date | date:'MMM d, yyyy'}}</p>
			       </a>
			      </li>
		        </ul>
			  </span>
			  
		      <div jquery-mobile-tpl>
		        <ul id="wishlistview" data-role="listview" data-inset="true" data-icon="arrow-r" repeat-done="" ng-cloak style="margin-top:30px;">
			      <li data-role="list-divider">
			        <span ng-show="showUser.id==user.id">My Wish List</span>
			        <span ng-hide="showUser.id==user.id">{{showUser.fullname}}'s Wish List</span>
			      </li>
			      <li ng-show="gifts.length==0"><h4>Nothing on this list</h4><P>Click "Add" to add something</P></li>
		          <li data-ng-repeat="gift in gifts">
		            <a ng-href="#gift" ng-click="setcurrentgift($index, gift)">
		              <h4 class="wraptext">{{gift.description}}</h4>
		              <span ng-show="gift.issurprise">
		                <P><strong>Shhhhh! This item is a Surprise!</strong></P>
		                <P><strong>{{showUser.fullname}} does not know about it</strong></P>
		              </span>
		              <span ng-show="gift.recipients.length > 1"><P class="wraptext">For {{commasep(gift.recipients)}}</P></span>
		              <P>
		                <span ng-show="gift.canseestatus && gift.isbought">
		                  Bought by {{gift.sender_name}}
		                </span>
		                <span ng-show="gift.canseestatus && !gift.isbought">
		                  Still Available
		                </span>
		              </P>
		              
		              
		            </a>  
		          </li>
		        </ul>
		      </div>
		      
		      
		  </span>
		  <!-- span ng-hide="mayberecipients.length > 0" -->
	  
	  
	  </span>
	  <!-- span ng-hide="searching" -->
	  
	
		  
      
	  
	</div><!-- /content -->


	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>

<div id="friends" data-role="page" data-add-back-btn="true">

    <div data-role="panel" id="friendcontrolpanel" data-position="right" data-display="overlay" data-theme="a">
        <h4>Friend Menu</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#addfriend" ng-click="initNewFriend()" data-transition="slideup">Add Friends</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#deletefriends" ng-click="prepareDeleteFriends()">Delete Friends</a></li>
        </ul>
    </div><!-- /panel -->


	<div data-role="header" data-theme="b">
		<h1>Friends</h1>
		<a href="#friendcontrolpanel" data-icon="gear" data-iconpos="notext" class="ui-btn-right">Friend Menu</a>
	</div><!-- /header -->

	<div data-role="content">
	  	  
	  <span ng-show="searchingforfriends">
	    <P>Searching...</P>
	  </span>
	  
	  
	  <!-- Everything goes in this block -->
	  <span ng-hide="searchingforfriends">
	  	  
		  <!-- hack: If you're trying to add/invite friends by email, we first query by email to see if anyone is already in the db.  If it turns out there is 1 or more people already
		  in the db, we keep those people in an array called 'maybefriends' and we present this/these people to the user and ask "Is any of these the person you're looking for"
		  The problem is we can only set the href to one thing, there can only be one "next" page regardless of whether we found anyone or not.  So we hack this page with an ng-show/ng-hide
		  switch to show these 'maybefriends' when they exist, or when they don't, we show the current list of friends. yuck  2013-08-08 -->
		  <span ng-show="maybefriends.length > 0">
		  
		      <span ng-show="maybefriends.length == 1">
		        We found a '{{maybefriends[0].fullname}}' having the email address you entered.  Is this who you're looking for?
		      
			    <div class="ui-grid-a">
			      <div class="ui-block-b"><a data-role="button" ng-href="#" ng-click="selectthisfriend(newfriend, true)">No</a></div>
			      <div class="ui-block-b"><a data-role="button" ng-href="#" ng-click="selectthisfriend(maybefriends[0], false)" data-theme="b">Yes</a></div>
				</div>
				
		      </span>
		
		      <span ng-show="maybefriends.length > 1">
			      <P>The email address you entered is associated with these {{maybefriends.length}} people.  If you see the person you're looking for, tap the name.  Otherwise, click "Not Found"</P>
			      
			      <div jquery-mobile-tpl>
				    <ul id="maybefriendsview" data-role="listview" data-inset="true" repeat-done="" ng-cloak>
				      <li ng-repeat="somebody in maybefriends">
				        <a href="#" ng-click="selectthisfriend(somebody, false)" data-transition="slide">
				          {{somebody.fullname}}
				        </a>
				      </li>
				    </ul>
				  </div>
			      
			      <P><a data-role="button" ng-href="#" ng-click="selectthisfriend(newfriend, true)" data-theme="a">Not Found</a></P>
		      </span>
		      
		  </span>
		  	  
		  	  
		  <span ng-hide="maybefriends.length > 0">
		  
			  <div ng-show="user.friends.length==0">
			    <P>You have no friends - well, at least none that we know about</P>
			    <P>Why don't you add some of your friends and family so you can see what they want</P>
			    <P>Click "Add" in the top right</P>
			  </div> 	  
		  
		  
		      <div jquery-mobile-tpl>
			    <ul id="friendview" data-role="listview" data-inset="true" class="ui-icon-alt" repeat-done="" ng-cloak>
			      <li ng-repeat="friend in user.friends">
			        <a href="#wishlist" ng-click="friendwishlist(friend)" data-transition="slide">
			          {{friend.fullname}}
			        </a>
			      </li>
			    </ul>
			  </div>
		  </span>
		  
	  </span> <!-- ng-hide="searchingforfriends" -->
	    
	  	  
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>
<div id="gift" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Gift</h1>
	</div><!-- /header -->

	<div data-role="content">
		
	 <span ng-show="testing && !hidden">currentgift.id={{currentgift.id}}<a ng-href="#" ng-click="hidden=true">hide</a></span>
	  
	 <span ng-show="circle!=null">
	   <ul data-role="listview">
	     <li data-icon="arrow-l">
	       <a ng-href="#wishlist">
	         <p><h4>{{circle.name}}</h4></p>
	         <p>{{circle.date | date:'MMM d, yyyy'}}</p>
	       </a>
	     </li>
	   </ul>
	 </span>
	  

     <ul data-role="listview" data-theme="d" data-inset="true" style="margin-top:30px;">
       <li>
	      <div><h4 class="wraptext">{{currentgift.description}}</h4></div>
          <p class="wraptext" style="margin-top:10px;">For {{commasep(currentgift.recipients)}}</p>
          
	      
          <P>
            <span ng-show="currentgift.canseestatus && currentgift.isbought">
              Bought by: {{currentgift.sender_name}}
            </span>
            <span ng-show="currentgift.canseestatus && !currentgift.isbought">
              Bought by (still available)
            </span>
          </P>
		  
          <span ng-show="currentgift.issurprise">
            <P style="margin-top:10px;"><strong class="wraptext">Shhhhh! Don't say anything to {{showUser.first}} about this</strong></P>
            <P class="wraptext">{{currentgift.addedByName}} added it as a surprise!</P>
          </span>
          
          
          
	      <span ng-show="currentgift.affiliateUrl != ''">
	        <P>
	          <a ng-href="#" ng-click="viewonline(currentgift.affiliateUrl, $event)" data-theme="b" data-role="button" target="item">
	            View Online
	          </a>
	        </P>
	      </span>
          
          
          
		  
		  <span ng-hide="reserving">    
			  <span ng-show="currentgift.canbuy">
			    <P style="margin-top:10px;"><a href="#" ng-click="beginreserving(currentgift)" data-theme="b" data-role="button">Give This</a></P>
			  </span>
			  <span ng-show="currentgift.canreturn">
			    <P class="wraptext" style="margin-top:10px;">Changed your mind?  No biggie.  Just click "Return" to make this gift available again.</P>
			    <P style="margin-top:10px;"><a href="#" ng-click="returngift(index, currentgift)" data-theme="b" data-role="button">Return</a></P>
			  </span>
	      </span>
	      
		  <span ng-show="reserving"> 
		      <P>From: <input type="text" name="sender" ng-model="currentgift.senderName" /></P>
		      <span ng-show="circle==null"><P>Give on: <input id="givedatepicker" name="givedatepicker" /></P></span>
		      
			  <div class="ui-grid-a" style="margin-top:25px;">
			    <div class="ui-block-a"><a data-role="button" ng-href="#" ng-click="reserving=false">Cancel</a></div>
			    <div class="ui-block-b"><a data-role="button" ng-href="#wishlist" ng-click="reservegift(index, currentgift)" data-theme="b">Give</a></div>	   
		      </div>
	      </span>
		  
		  
		  <!-- I think in all cases, canedit and candelete are the same  2013-08-16 -->
		  <span ng-show="currentgift.canedit && !reserving">
			  <div class="ui-grid-a">
			    <div class="ui-block-a"><a href="#gift2" data-theme="c" data-role="button">Edit</a></div>
			    <div class="ui-block-b"><a href="#wishlist" ng-click="deletegift(currentgift)" data-theme="c" data-role="button">Delete</a></div>	   
		      </div>
		  </span>
       </li>
     </ul>
		  
	      
	
	</div><!-- /content -->
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>

<div id="personalinfo" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Personal Info</h1>
	</div><!-- /header -->

	<div data-role="content">
	  
		<form novalidate name="personalinfoForm">
		    <fieldset>
		      <P>
		        <label for="userId" class="ui-hidden-accessible">ID:</label>
    		    <input id="userId" name="userId" type="hidden" ng-model="user.id" placeholder="ID" /> <!-- submitting the form in the traditional sense, so do we really need this hidden field?  The id value is contained in the user object -->
    		  </P>
		      <P>
		        <label for="name" class="ui-hidden-accessible">Name:</label>
    		    <input id="name" name="fullname" type="text" ng-model="user.fullname" placeholder="Name" required/>
    		  </P>
		      <P>
		        <label for="email" class="ui-hidden-accessible">Email:</label>
    		    <input id="email" name="email" type="email" ng-model="user.email" placeholder="Email" required/>
    		  </P>
		      <P>
		        <label for="username" class="ui-hidden-accessible">Username:</label>
    		    <input id="username" name="username" type="text" ng-model="user.username" placeholder="Username" ng-change="isUsernameUnique(user, personalinfoForm)"  required/>
    		  </P>
		      <P>
		        <span ng-hide="personalinfoForm.$invalid">
		          <a ng-href="#welcome" ng-click="saveuser(user)" data-role="button" data-theme="b"><span ng-show="user.id==null">Register</span><span ng-hide="user.id==null">Save</span></a>
		        </span>
		        <span ng-show="personalinfoForm.$invalid">
		          <button disabled="" data-role="button" data-theme="b"><span ng-show="user.id==null">Register</span><span ng-hide="user.id==null">Save</span></button>
		        </span>
    		  </P>
    		</fieldset>
		
            <span ng-show="personalinfoForm.username.$dirty">
              <span ng-show="personalinfoForm.username.$error.taken">
                <P style="color:#cc0000;">Usernames must be unique.  '{{user.username}}' has already been taken.</P>
              </span>
            </span>
		</form>	
		
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>

<div id="passwordreset" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Password Reset</h1>
	</div><!-- /header -->

	<div data-role="content">
	  	  
        <P>
        
		<form novalidate name="resetForm">
		    <fieldset data-role="fieldcontain">
		      <P>
		        <label for="currentpassword" class="ui-hidden-accessible">Current Password:</label>
    		    <input id="currentpassword" name="currentpassword" type="password" ng-model="currentpassword" placeholder="Password" ng-change="validatePassword(resetForm, currentpassword)" required/>
    		  </P>
		      <P>
		        <label for="newpassword" class="ui-hidden-accessible">New Password:</label>
    		    <input id="newpassword" name="newpassword" type="password" ng-model="newpassword" placeholder="New Password" required/>
    		  </P>
		      <P>
		        <label for="newpasswordagain" class="ui-hidden-accessible">New Password (again):</label>
    		    <input id="newpasswordagain" name="newpasswordagain" type="password" ng-model="newpasswordagain" placeholder="New Password (again)" required/>
    		  </P>
		      <P>
		        <span ng-hide="resetForm.$invalid || (newpassword != newpasswordagain) || resetForm.currentpassword.$invalid">
		          <a ng-href="#" ng-click="resetPass(currentpassword, newpassword)" data-role="button" data-theme="b">Change Password</a>
		        </span>
		        <span ng-show="resetForm.$invalid || (newpassword != newpasswordagain) || resetForm.currentpassword.$invalid">
		          <button disabled="" data-role="button" data-theme="b">Change Password</button>
		        </span>
    		  </P>
    		</fieldset>
        </form>
        </P>
     
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>
<div id="contactus" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Contact Us</h1>
	</div><!-- /header -->

	<div data-role="content">
	
	  <P><a href="mailto:info@littlebluebird.com">info@littlebluebird.com</a></P>
	
	</div><!-- /content -->
	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>
<div id="addevent" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Add Event</h1>
	</div><!-- /header -->

	<div data-role="content">
	  
	  Choose Event Type
	
      <ul data-role="listview" data-inset="true" class="ui-icon-alt">
        <li><a ng-href="#setnameanddate" data-transition="slide" ng-click="initNewEvent('Christmas', -1)">Christmas</a></li>
        <li><a ng-href="#setnameanddate" data-transition="slide" ng-click="initNewEvent('Birthday', 1)">Birthday</a></li>
        <li><a ng-href="#setnameanddate" data-transition="slide" ng-click="initNewEvent('Anniversary', 2)">Anniversary</a></li>
        <li><a ng-href="#setnameanddate" data-transition="slide" ng-click="initNewEvent('Mothers Day', 1)">Mothers Day</a></li>
        <li><a ng-href="#setnameanddate" data-transition="slide" ng-click="initNewEvent('Fathers Day', 1)">Fathers Day</a></li>
        <li><a ng-href="#setnameanddate" data-transition="slide" ng-click="initNewEvent('Valentines Day', 1)">Valentines Day</a></li>
        <li><a ng-href="#setnameanddate" data-transition="slide" ng-click="initNewEvent('Graduation', 1)">Graduation</a></li>
        <li><a ng-href="#setnameanddate" data-transition="slide" ng-click="initNewEvent('Baby Shower', 1)">Baby Shower</a></li>
        <li><a ng-href="#setnameanddate" data-transition="slide" ng-click="initNewEvent('Other', -1)">Other</a></li>
      </ul>
	  
	</div><!-- /content -->


	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>

<div id="setnameanddate" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Event</h1>
	</div><!-- /header -->

	<div data-role="content">
	  	  
		<form novalidate name="nameanddateForm">
		  <P>Enter the event's name and date</P>
		    <fieldset data-role="fieldcontain">
		      <P>
		        <label for="name" class="ui-
		        hidden-accessible">Event Name:</label>
    		    <input id="name" name="name" type="text" ng-model="circle.name" placeholder="Event Name" required/>
    		  </P>
		      <P>
		        <input id="datepicker" name="datepicker" ng-required="true"/>
    		  </P>
    		  
    		  <!--  Where we go next depends on whether the circle is being created or updated
    		  // If it's being created (circle.id = null), the next thing we do is ask the user how he/she is participating
    		  // If the circle has already been created, then we are just updating the name and date here and so all we need
    		  // to do is update the db and (I guess) send the user back to the 'participants' page -->
    		  <div ng-show="circle.id==null">
		        <span ng-show="nameanddateForm.$valid">
		          <a ng-href="#areyouparticipating" ng-click="initMyParticipation(user, circle);" data-role="button" data-theme="b" data-icon="arrow-r" data-iconpos="right">Next</a>
		        </span>
		        <span ng-show="nameanddateForm.$invalid">
		          <button disabled="" data-role="button" data-theme="b" data-icon="arrow-r" data-iconpos="right">Next</button>
		        </span>
    		  </div>
    		  
    		  <div ng-show="circle.id!=null">
		        <span ng-show="nameanddateForm.$valid">
		          <a ng-href="#participants" ng-click="savecircle(circle)" data-role="button" data-theme="b">Save</a>
		        </span>
		        <span ng-show="nameanddateForm.$invalid">
		          <button disabled="" data-role="button" data-theme="b">Save</button>
		        </span>
    		  </div>
			  
			  
    		</fieldset>
		
		</form>	
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>

<div id="editparticipants" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Invite</h1>
	</div><!-- /header -->

	<div data-role="content">
	  
	  <P>Invite people to this event</P>
	  
	  <span ng-show="user.friends.length > 0">
	  <a ng-href="#addbysearching" data-role="button" data-icon="arrow-r" data-iconpos="right">Search</a>
	  </span>
	  
	  <!-- Should be able to invite by email any time.  But if you have friends or circles, then we are going to show you a button to get there.
	  If you don't have any friends or circles, then we will just show you that form here on this page 2013-08-08 -->
	  <span ng-show="user.friends.length > 0 || user.circles.length > 0">
	  <a ng-href="#invitebyemail" data-role="button" data-icon="arrow-r" data-iconpos="right">Invite By Email</a>
	  </span>
	  
	  <span ng-show="user.circles.length > 0">
	  <a ng-href="#addfromanotherevent" ng-click="refreshOtherEventsList()" data-role="button" data-icon="arrow-r" data-iconpos="right">Invite From Another Event</a>
	  </span>
	  	  	  
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>
<!-- POOR NAMING: THIS PAGE SHOULD REALLY BE NAMED event.html  2013-08-10 -->

<div id="participants" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Event</h1>
		<a href="#setnameanddate" ng-click="editevent(circle)" data-transition="slideup" data-icon="edit" class="ui-btn-right">Edit</a>
	</div><!-- /header -->

	<div data-role="content">
	
	
	  <span ng-show="loading">Loading...</span>      
	  
	  <span ng-hide="loading">
		  <!-- hack: If you're trying to invite people by email, we first query by email to see if anyone is already in the db.  If it turns out there is 1 or more people already
		  in the db, we keep those people in an array called 'maybepeople' and we present this/these people to the user and ask "Is any of these the person you're looking for"
		  The problem is we can only set the href to one thing, there can only be one "next" page regardless of whether we found anyone or not.  So we hack this page with an ng-show/ng-hide
		  switch to show these 'maybepeople' when they exist, or when they don't, we show the current list of event participants. yuck  2013-08-08 -->
		  <span ng-show="maybepeople.length > 0">
		  
		      <span ng-show="maybepeople.length == 1">
		        We found a '{{maybepeople[0].fullname}}' having the email address you entered.  Is this who you're looking for?
		      
			    <div class="ui-grid-a">
			      <div class="ui-block-b"><a data-role="button" ng-href="#" ng-click="selectthisparticipant(newparticipant, participationLevel, true)">No</a></div>
			      <div class="ui-block-b"><a data-role="button" ng-href="#" ng-click="selectthisparticipant(maybepeople[0], participationLevel, false)" data-theme="b">Yes</a></div>
				</div>
				
		      </span>
		
		      <span ng-show="maybepeople.length > 1">
		      <P>The email address you entered is associated with these {{maybepeople.length}} people.  If you see the person you're looking for, tap the name.  Otherwise, click "Not Found"</P>
		      
		      <div jquery-mobile-tpl>
			    <ul id="maybepeopleview" data-role="listview" data-inset="true" repeat-done="" ng-cloak>
			      <li ng-repeat="somebody in maybepeople">
			        <a href="#" ng-click="selectthisparticipant(somebody, participationLevel, false)" data-transition="slide">
			          {{somebody.fullname}}
			        </a>
			      </li>
			    </ul>
			  </div>
		      
		      <P><a data-role="button" ng-href="#" ng-click="selectthisparticipant(newparticipant, participationLevel, true)" data-theme="a">Not Found</a></P>
		      </span>
		      
		  </span>
		  <!-- span ng-show="maybepeople.length > 0" -->
		  
		  
		  
		  <span ng-hide="maybepeople.length > 0">
		      <!-- this block is the typical case -->
		      
		      <ul data-role="listview">
		        <li>
			      <p><h4>{{circle.name}}</h4></p>
		          <p>{{circle.date | date:'MMM d, yyyy'}}</p>
		        </li>
		      </ul>
		      
			
		      <!-- ------------------------------------ -->
		      <!-- BEGIN: Participants/Honorees section -->
		      <!-- ------------------------------------ -->	      
		      
		      <div jquery-mobile-tpl>
			    <ul id="receiverview" data-role="listview" data-inset="true" repeat-done="" ng-cloak style="margin-top:30px;">
			      <li data-role="list-divider">
		            
		            <div class="ui-grid-a">
	                  <div class="ui-block-a">
			            <h4><span ng-show="circle.receiverLimit == -1">Participants</span>
			              <span ng-show="circle.receiverLimit == 1">Honoree</span>
			              <span ng-show="circle.receiverLimit > 1">Honorees</span>
			            </h4>
	                  </div>
	                  <div class="ui-block-b" style="text-align:right;">
	                      <a data-role="button" ng-href="#addremoveparticipants" ng-click="prepAddRemoveParticipants(circle, circle.participants.receivers, 'Receiver')" data-icon="edit" data-iconpos="notext" class="ui-btn-right" data-theme="b" data-rel="dialog" data-transition="pop">Edit</a>
	                  </div>
	                </div>
		            
			      </li>
			      <li ng-show="circle.participants.receivers.length==0">
	                No <span ng-show="circle.receiverLimit == -1">Participants</span>
	                <span ng-show="circle.receiverLimit != -1">Honorees</span> in this event
			      </li>
			      <li ng-repeat="participant in circle.participants.receivers">
			         <a ng-href="#wishlist" ng-click="giftlist(circle, participant)">{{participant.fullname}}</a>
			      </li>
			    </ul>
			  </div>
		      
		      <!-- ------------------------------------ -->
		      <!-- END: Participants/Honorees section   -->
		      <!-- ------------------------------------ -->
		      
		      
		      <!-- ------------------------------------------------------- -->
		      <!-- BEGIN: Guests section (for those events that have them) -->
		      <!-- ------------------------------------------------------- -->
		      
		      <span ng-hide="circle.receiverLimit == -1">
		      <div jquery-mobile-tpl>
			    <ul id="giverview" data-role="listview" data-inset="true" repeat-done="" ng-cloak>
			      <li data-role="list-divider">
		            <div class="ui-grid-a">
	                  <div class="ui-block-a"><h4>Guests</h4></div>
	                  <div class="ui-block-b" style="text-align:right;">
	                      <a data-role="button" ng-href="#addremoveparticipants" ng-click="prepAddRemoveParticipants(circle, circle.participants.givers, 'Giver')" data-icon="edit" data-iconpos="notext" class="ui-btn-right" data-theme="b" data-rel="dialog" data-transition="pop">Edit</a>
	                  </div>
	                </div>
	              </li>
			      <li ng-repeat="participant in circle.participants.givers">
			         <a ng-href="#confirmdeleteparticipant" ng-click="preparetoremove($index, participant, 'Giver')">{{participant.fullname}}</a>
			      </li>
			    </ul>
			  </div>
			  </span>
		      
		      <!-- ------------------------------------------------------- -->
		      <!-- END: Guests section (for those events that have them)   -->
		      <!-- ------------------------------------------------------- -->
		      
		      <P><a href="#confirmdeleteevent" data-transition="slideup" data-role="button">Delete Event</a></P>
		  </span>
		  <!-- span ng-hide="maybepeople.length > 0" -->
	  
	  	  
	  </span> 
	  <!-- span ng-hide="loading" -->
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>

<div id="invitebyemail" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Invite</h1>
	</div><!-- /header -->

	<div data-role="content">
	

      Invite friends and family by email


	  <form novalidate name="fooForm">
          <p>
		    <label for="invitename" class="ui-hidden-accessible">Name:</label>
            <input id="invitename" name="invitename" type="text" ng-model="newparticipant.name" placeholder="Name" required/>
	      </p>
	  
          <p>
		    <label for="inviteemail" class="ui-hidden-accessible">Email:</label>
            <input id="inviteemail" name="inviteemail" type="email" ng-model="newparticipant.email" placeholder="Email" required/>
	      </p>
	      
	      <!--
	      <P>
	          <a ng-href="#" ng-click="seeform(fooForm)" data-role="button" data-theme="b">see form</a>
		  </P>
		  -->
		  
		  
	      <P>
	        <span ng-hide="fooForm.$invalid">
	          <a ng-href="#participants" ng-click="invite(newparticipant, circle, participationLevel)" data-role="button" data-theme="b">Invite</a>
	        </span>
	        <span ng-show="fooForm.$invalid">
	          <button disabled="" data-role="button" data-theme="b">Invite</button>
	        </span>
		  </P>
	  </form>
	  
	  
	  
	</div><!-- /content -->
	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>

<div id="addbysearching" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Invite</h1>
	</div><!-- /header -->

	<div data-role="content">
	  	  
      <div jquery-mobile-tpl>
	    <ul id="pfview" data-role="listview" data-filter="true" data-filter-reveal="true" data-filter-placeholder="Search and invite friends..." data-inset="true" repeat-done="" ng-cloak>
	      <li ng-repeat="friend in user.friends">
	        <a href="#participants" ng-click="addparticipant(friend, circle, participationLevel)" data-transition="slide">
	          {{friend.fullname}}
	        </a>
	      </li>
	    </ul>
	  </div>
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>

<div id="addfromanotherevent" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Invite</h1>
	</div><!-- /header -->

	<div data-role="content">
	  
	  Invite people from which event?
	  
	  
      <div jquery-mobile-tpl>
	    <ul id="addfromtheseeventsview" data-role="listview" data-inset="true" class="ui-icon-alt" repeat-done="">
	      <li ng-repeat="c in user.circles | filter:c.id!=circle.id" ng-cloak> <!-- notice how we filter out the current event. Makes no sense to add from another event and include the current event in that list -->
	        <a href="#addfromthisevent" ng-click="choosethiscircle(c)" data-transition="slide">
	          <p><h4>{{c.name}}</h4></p>
	          <p>{{c.date | date:'MMM d, yyyy'}}</p>
	        </a>
	      </li>
	    </ul>
	  </div>
	  
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>
<div id="confirmdeleteparticipant" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Confirm Delete</h1>
	</div><!-- /header -->

	<div data-role="content">
	      
      <ul data-role="listview">
        <li>
	      <p><h4>{{circle.name}}</h4></p>
          <p>{{circle.date | date:'MMM d, yyyy'}}</p>
        </li>
      </ul>
	  	  
	  <P>&nbsp;</P>	  
	  Delete {{participant.fullname}} from this event?
	  <P>&nbsp;</P>	
	  
	  <div class="ui-grid-a">
	    <div class="ui-block-a"><a data-role="button" ng-href="#participants">Cancel</a></div>
	    <div class="ui-block-b"><a data-role="button" ng-href="#participants" ng-click="removeparticipant(index, participant, circle, participationLevel)">Delete</a></div>	   
      </div>
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>
<!-- POOR NAMING: THIS PAGE SHOULD REALLY BE NAMED event.html  2013-08-10 -->

<div id="confirmdeleteevent" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Confirm Delete</h1>
	</div><!-- /header -->

	<div data-role="content">
	  
	  
	      <ul data-role="listview">
	        <li>
		      <p><h4>{{circle.name}}</h4></p>
	          <p>{{circle.date | date:'MMM d, yyyy'}}</p>
	        </li>
	      </ul>
	      
	      <div style="margin-top:30px;">Are you sure you want to delete this event?  Once it's gone, it's gone</div>
		
		  <div class="ui-grid-a" style="margin-top:150px;">
		    <div class="ui-block-a"><a data-role="button" ng-href="#participants">Cancel</a></div>
		    <div class="ui-block-b"><a data-role="button" ng-href="#events" ng-click="deleteevent(circle)">Delete</a></div>	   
	      </div>
	  	  
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>
<div id="edititem" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Gift</h1>
	</div><!-- /header -->

	<div data-role="content">
	
	  <form>
		  <fieldset data-role="fieldcontain">
            <input type="hidden" name="giftId" ng-model="currentgift.id" />
		    <p>
		        <label for="description" class="ui-hidden-accessible">Description:</label>
    		    <textarea id="description" cols="40" rows="8" name="description" type="text" ng-model="currentgift.description" placeholder="Description"></textarea>
		    </p>
		    <p>
		        <label for="url" class="ui-hidden-accessible">URL:</label>
    		    <input id="url" name="url" type="text" ng-model="currentgift.url" placeholder="URL" />
		    </p>
		    
		    <!-- No need to list recipients if the event is a single-recipient event -->
    		<span ng-hide="circle.receiverLimit == 1">
		    <p>
		        <strong>Recipients</strong>
		    </p>
		    <p>
		      <ul data-role="listview">
                <li>{{commasep(currentgift.recipients)}}</li>
              </ul>
		    </p>
		    </span>
    		
    		<!-- No need to show 'Edit Recipients' button if this is for a single-recipient event -->
    		<span ng-hide="circle.receiverLimit == 1">
    		<div style="margin-top:40px;">
		      <a ng-href="#selectOneRecipient" data-role="button" ng-click="beginAddingRecipients(currentgift)" data-theme="b">Add Recipients</a>
		    </div>
    		<div>
		      <a ng-href="#beginDeletingRecipients" data-role="button" ng-click="prepareDeleteRecipients()" data-theme="b">Delete Recipients</a>
		    </div>
		    </span>
		    
      
		    <div class="ui-grid-a">
              <div class="ui-block-a"><a href="#wishlist" data-role="button" data-theme="b">Cancel</a></div>
		      <div class="ui-block-b"><a href="#wishlist" data-role="button" ng-click="savegift(currentgift)" data-theme="b">Save</a></div>
    		</div>
    	
    	  </fieldset>	
	  </form>
	
	
	</div><!-- /content -->


	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>
<!-- Lets the user turn on/off notifications: when they are added to events, when gifts they have bought are edited/deleted, and when gifts are
"unbought" (have become available again) -->
<div id="notifications" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Notifications</h1>
	</div><!-- /header -->

	<div data-role="content">
	  	  
	    <form novalidate>
	    
	      <div data-role="fieldcontain">
	          <label for="notifyonaddtoevent" data-inline="true">Email me when someone includes me in an event</label>
	          <select name="notifyonaddtoevent" id="notifyonaddtoevent" data-role="slider" ng-model="user.notifyonaddtoevent" data-inline="true" class="ui-btn-right">
	            <option value="false">No</option>
	            <option value="true">Yes</option>
	          </select>
	      </div>
	    
	      <div data-role="fieldcontain">
	          <label for="notifyondeletegift" data-inline="true">Email me when someone deletes a gift I have bought</label>
	          <select name="notifyondeletegift" id="notifyondeletegift" data-role="slider" ng-model="user.notifyondeletegift" data-inline="true" class="ui-btn-right">
	            <option value="false">No</option>
	            <option value="true">Yes</option>
	          </select>
	      </div>
	    
	      <div data-role="fieldcontain">
	          <label for="notifyoneditgift" data-inline="true">Email me when someone changes the description of a gift I have bought</label>
	          <select name="notifyoneditgift" id="notifyoneditgift" data-role="slider" ng-model="user.notifyoneditgift" data-inline="true" class="ui-btn-right">
	            <option value="false">No</option>
	            <option value="true">Yes</option>
	          </select>
	      </div>
	    
	      <div data-role="fieldcontain">
	          <label for="notifyonreturngift" data-inline="true">Email me when someone returns a gift so that I know it is available again to give</label>
	          <select name="notifyonreturngift" id="notifyonreturngift" data-role="slider" ng-model="user.notifyonreturngift" data-inline="true" class="ui-btn-right">
	            <option value="false">No</option>
	            <option value="true">Yes</option>
	          </select>
	      </div>
	      


	      <P>
	        <a ng-href="#" data-role="button" data-theme="b" ng-click="saveuser(user)">Update</a>    
	      </P>
	        
	    </form>
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>
<!-- 2013-08-18: This is the page that asks the user if he/she is participating in the event that is being created.
                 This is the page the user comes to next after "setnameanddate" -->

<div id="areyouparticipating" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Event</h1>
	</div><!-- /header -->

	<div data-role="content">
	  
	  
      <div data-role="fieldcontain">
          <label for="areyouparticipating" data-inline="true">Are you participating in this event?</label>
          <select name="areyouparticipating" id="areyouparticipating" data-role="slider" ng-model="userisparticipant" data-inline="true" class="ui-btn-right">
            <option value="false">No</option>
            <option value="true">Yes</option>
          </select>
      </div>
      
      <div ng-show="userisparticipant=='true' && circle.receiverLimit != -1">
          <label for="areyouanhonoree" data-inline="true">
            Are you <span ng-show="circle.receiverLimit==1">the</span> <span ng-show="circle.receiverLimit > 1">an</span> Honoree?
          </label>
          <select name="areyouanhonoree" id="areyouanhonoree" data-role="slider" ng-model="userishonoree" data-inline="true" class="ui-btn-right">
            <option value="false">No</option>
            <option value="true">Yes</option>
          </select>
      </div>
      
      <div class="ui-grid-a">
        <div class="ui-block-a">
          <a ng-href="#setnameanddate" data-role="button" data-icon="arrow-l" data-iconpos="left">Back</a>
        </div>
        <div class="ui-block-b">
          <a ng-href="#participants" ng-click="saveNewCircle(userisparticipant, userishonoree, user, circle)" data-role="button" data-icon="arrow-r" data-iconpos="right">Next</a>
        </div>
      </div>
	  
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>

<div id="addfriend" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Add Friend</h1>
	</div><!-- /header -->

	<div data-role="content">


	  <form novalidate name="addfriendForm">
          <p>
		    <label for="addfriend-invitename" class="ui-hidden-accessible">Name:</label>
            <input id="addfriend-invitename" name="invitename" type="text" ng-model="newfriend.name" placeholder="Name" required/>
	      </p>
	  
          <p>
		    <label for="addfriend-inviteemail" class="ui-hidden-accessible">Email:</label>
            <input id="addfriend-inviteemail" name="inviteemail" type="email" ng-model="newfriend.email" placeholder="Email" required/>
	      </p>
	      
    	
	      <P>
	        <span ng-hide="addfriendForm.$invalid">
	          <a ng-href="#friends" ng-click="searchforfriend(newfriend)" data-role="button" data-theme="b" data-icon="">Add Friend</a>
	        </span>
	        <span ng-show="addfriendForm.$invalid">
	          <button disabled="" data-role="button" data-theme="b">Add Friend</button>
	        </span>
		  </P>
	  </form>


	  
	</div><!-- /content -->
	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>

<div id="deletefriends" data-role="page" data-add-back-btn="true">


	<div data-role="header" data-theme="b">
		<h1>Delete Friends</h1>
	</div><!-- /header -->

	<div data-role="content">
	  	  
	    <fieldset data-role="controlgroup">
	        <legend>Delete Who?</legend>
	        
			<span ng-repeat="friend in user.friends">
		        <input name="deletefriend-{{friend.id}}" id="deletefriend-{{friend.id}}" type="checkbox" ng-click="prepareDeleteFriend(friend)">
		        <label for="deletefriend-{{friend.id}}">{{friend.fullname}}</label>
			</span>
	        
	    </fieldset>
	    
	    <div ng-show="friendstodelete.length==0">
	      <button disabled="">Delete Friends</button>
	    </div>
	    
	    <div ng-show="friendstodelete.length > 0">
	      <a data-role="button" ng-href="#friends" ng-click="removeFriends(friendstodelete)">Delete {{friendstodelete.length}} Friend<span ng-show="friendstodelete.length > 1">s</span></a>
	    </div>
	  	  
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>

<div id="test" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Test</h1>
	</div><!-- /header -->

	<div data-role="content">
	  	  
	    
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>

<div id="scanresults" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Results</h1>
	</div><!-- /header -->

	<div data-role="content">
	  	  
	  <div ng-show="scanreturncode == -1">
	    Scan cancelled - hit the Back button and try again if you like
	  </div>
	  
	  
	  <!-- the good/success case: but no products found 
	    When no products are found, present the "Bummer" message 
	  -->
	  <div ng-show="scanreturncode == 0">
	    Bummer! The barcode you scanned wasn't in our database.  If you want to add this item to your wish list, you will
	    have to manually enter it.
	  </div>
	  
	  
	  
	  <!-- the good/success case: one product found 
	    When only one product is found, we can immediately present the user with the buttons "Add to My List", "Add to Someone Else's List" 
	  -->
	  <div ng-show="scanreturncode == 1">
        <ul data-role="listview" data-theme="d" data-inset="true">
	      <li>
	        <div><h4 class="wraptext">{{products[0].name}}</h4></div>
	        <P>
	          <a ng-href="#" ng-click="viewonline(products[0].url, $event)" data-theme="b" data-role="button" target="item">
	            View/Buy Online
	          </a>
	        </P>
	        <P>
	          <a ng-href="#wishlist" ng-click="addtomywishlist(products[0])" data-theme="b" data-role="button" target="item">
	            Add to My List
	          </a>
	        </P>
	        <P>
	          <a ng-href="#" data-theme="b" data-role="button" target="item">
	            Add to Someone Else's List
	          </a>
	        </P>
	        <P>
	          <a ng-href="#" data-theme="c" data-role="button" target="item">
	            This is not what I scanned
	          </a>
	        </P>
	      </li>
	    </ul>
	  </div>
	  
	  
	  
	  <!-- the good/success case: more than one product found 
	     In this case, we present the user with the list of products.  Each <li> is a link over to that product's
	     page where the user see the "Add to My List", "Add to Someone Else's List" buttons
	  -->
	  <div ng-show="scanreturncode > 1">
	    Found {{products.length}} items that match this barcode.  Tap the one you want.
        <div jquery-mobile-tpl>
          <ul id="scanresultlist" data-role="listview" data-theme="d" data-inset="true">
          
	        <li ng-repeat="product in products" repeat-done="">
	          <a ng-href="#selectedproduct" ng-click="convertProductToGift(product)">
	            <h4 class="wraptext">{{product.name}}</h4>
	          </a>
	        </li>
	      </ul>
	    
	    </div>
	    <P><a ng-href="#" data-role="button" data-theme="d">None of These</a></P>
	  </div>
	    
	  
	    
	  	<div ng-show="testing">
	  	  <P>Logged in as: {{user.fullname}}</P>
	  	</div>
	  	
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>

<div id="selectedproduct" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Product</h1>
	</div><!-- /header -->


	<div data-role="content">
	
	    <!-- When you go from scanresults to this page, the 'product' you selected gets converted to the 'currentgift'
	    by the function convertProductToGift() -->
	  
        <ul data-role="listview" data-theme="d" data-inset="true">
	      <li>
	        <div><h4 class="wraptext">{{currentgift.description}}</h4></div>
	        <P>
	          <a ng-href="#" ng-click="viewonline(currentgift.url, $event)" data-theme="b" data-role="button" target="item">
	            View Online
	          </a>
	        </P>
	        <P>
	          <a ng-href="#wishlist" ng-click="addtomywishlist(currentgift)" data-theme="b" data-role="button" target="item">
	            Add to My List
	          </a>
	        </P>
	        <P>
	          <a ng-href="#addToSomeoneElsesList" data-theme="b" data-role="button" target="item">
	            Add to Someone Else's List
	          </a>
	        </P>
	      </li>
	    </ul>
	    
	  	<div ng-show="testing">
	  	  <P>Logged in as: {{user.fullname}}</P>
	  	</div>
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>

<div id="addToSomeoneElsesList" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Gift</h1>
	</div><!-- /header -->

	<div data-role="content">
	  
	  Is this gift for more than one person?
	  
	  <span ng-show="user.friends.length > 0">
	    <div class="ui-grid-a" style="margin-top:50px;">
	      <div class="ui-block-a"><a ng-href="#selectOneRecipient" data-theme="c" data-role="button">No</a></div>
	      <div class="ui-block-b"><a ng-href="#selectMultipleRecipients" data-theme="b" data-role="button">Yes</a></div>
	    </div>
	  </span>
	  
	  <span ng-hide="user.friends.length > 0">
	    <div class="ui-grid-a" style="margin-top:50px;">
	      <div class="ui-block-a"><a ng-href="#selectOneRecipientByEmail" data-theme="c" data-role="button">No</a></div>
	      <div class="ui-block-b"><a ng-href="#selectMultipleRecipients" data-theme="b" data-role="button">Yes</a></div>
	    </div>
	  </span>
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>

<div id="selectOneRecipient" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Recipient</h1>
	</div><!-- /header -->

	<div data-role="content">
	  
	  <P><a data-role="button" data-theme="b" ng-href="#selectOneRecipientByEmail">Select by Name/Email</a></P>
	  <P><a data-role="button" data-theme="b" ng-href="#selectOneRecipientFromFriends">Select from Friends</a></P>
		  
	  
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>

<div id="selectMultipleRecipients" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Recipients</h1>
	</div><!-- /header -->

	<div data-role="content">

      <!-- When you are selecting multiple recipients, we show you all your friends up front and they
      have checkboxes next to them.  -->
      
	  
	    <fieldset data-role="controlgroup">
	        <legend>Who is this gift for?</legend>
	        
			<span ng-repeat="friend in user.friends">
		        <input name="makefriendrecipient-{{friend.id}}" id="makefriendrecipient-{{friend.id}}" type="checkbox" ng-click="prepareMultipleRecipients(friend, currentgift)">
		        <label for="makefriendrecipient-{{friend.id}}">{{friend.fullname}}</label>
			</span>
	        
	    </fieldset>
	  
	  
	    
	    <div ng-show="recipientstoadd.length==0">
	      <button disabled="">Add Recipients</button>
	    </div>
	    
	    <div ng-show="recipientstoadd.length > 0">
	      <a data-role="button" ng-href="#recipients" ng-click="addrecipients(recipientstoadd, currentgift)">Add {{recipientstoadd.length}} Recipient<span ng-show="recipientstoadd.length > 1">s</span></a>
	    </div>
	  
	  
	  
	  
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>

<div id="selectOneRecipientByEmail" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Recipient</h1>
	</div><!-- /header -->

	<div data-role="content">
	  
	    
	  <form novalidate name="inviteForm">
        <p>
		    <label for="selectone-invitename" class="ui-hidden-accessible">Name:</label>
            <input id="selectone-invitename" name="invitename" type="text" ng-model="newrecipient.name" placeholder="Name" required/>
        </p>
	  
        <p>
		    <label for="selectone-inviteemail" class="ui-hidden-accessible">Email:</label>
            <input id="selectone-inviteemail" name="inviteemail" type="email" ng-model="newrecipient.email" placeholder="Email" required/>
	    </p>
	      
    	
	    <P>
	        <span ng-hide="inviteForm.$invalid">
	          <a ng-href="#wishlist" ng-click="addRecipientByEmail(newrecipient, currentgift)" data-role="button" data-theme="b">Make Recipient</a>
	        </span>
	        <span ng-show="inviteForm.$invalid">
	          <button disabled="" data-role="button" data-theme="b">Make Recipient</button>
	        </span>
		</P>
	  </form>
	    
		  
	  
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>

<div id="selectOneRecipientFromFriends" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Recipient</h1>
	</div><!-- /header -->

	<div data-role="content">
	  
	  <!-- When you're selecting just one recipient, we show you the search box and you start typing in a name
	  The <ul> shows you a filtered list of your friends that you choose from -->
	    
  
      <div jquery-mobile-tpl>
	    <ul id="selectOneRecipientView" data-role="listview" data-filter="true" data-filter-reveal="true" data-filter-placeholder="Search and invite friends..." data-inset="true" repeat-done="" ng-cloak>
	      <li ng-repeat="friend in user.friends">
	        <a href="#wishlist" ng-click="addrecipient(friend, currentgift)" data-transition="slide">
	          {{friend.fullname}}
	        </a>
	      </li>
	    </ul>
	  </div>
		  
	  
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>
<!-- After you add multiple recipients for a gift, you get sent to this page, which shows each recipient in a list so that you could
click on any of their names to see their list and the item that was just added -->

<div id="recipients" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Recipients</h1>
	</div><!-- /header -->

	<div data-role="content">
	  	  
	  	<div ng-show="loading">Loading...</div>
	  	
	  	
	  	<div ng-hide="loading">
	  	
	      <div jquery-mobile-tpl>
		    <ul id="recipientsview" data-role="listview" data-inset="true" class="ui-icon-alt" repeat-done="" ng-cloak>
		      <li ng-repeat="recipient in recipientsjustadded">
		        <a href="#wishlist" ng-click="friendwishlist(recipient)" data-transition="slide">
		          {{recipient.fullname}}
		        </a>
		      </li>
		    </ul>
		  </div>
		  
	  	</div>
	  	<!-- div ng-hide="loading" -->
	  	
	  
	    
	  	<div ng-show="testing">
	  	  <P>Logged in as: {{user.fullname}}</P>
	  	</div>
	  	
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>

<div id="beginDeletingRecipients" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Delete Recipients</h1>
	</div><!-- /header -->

	<div data-role="content">
	  	  
	    <fieldset data-role="controlgroup">
	        <legend>Delete Who?</legend>
	        
			<span ng-repeat="r in currentgift.recipients">
		        <input name="deleterecipient-{{r.id}}" id="deleterecipient-{{r.id}}" type="checkbox" ng-click="prepareDeleteRecipient(r)">
		        <label for="deleterecipient-{{r.id}}">{{r.fullname}}</label>
			</span>
	        
	    </fieldset>
	    
	    <div ng-show="recipientstodelete.length==0">
	      <button disabled="">Delete Recipients</button>
	    </div>
	    
	    <div ng-show="recipientstodelete.length > 0">
	      <a data-role="button" ng-href="#gift" ng-click="removeRecipients(currentgift, recipientstodelete)">Delete {{recipientstodelete.length}} Recipient<span ng-show="recipientstodelete.length > 1">s</span></a>
	    </div>
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>
<div id="edititem" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Gift</h1>
	</div><!-- /header -->

	<div data-role="content">
	
	  <form>
		  <fieldset data-role="fieldcontain">
            <input type="hidden" name="giftId" ng-model="currentgift.id" />
		    <p>
		        <label for="description" class="ui-hidden-accessible">Description:</label>
    		    <textarea id="description" cols="40" rows="8" name="description" type="text" ng-model="currentgift.description" placeholder="Description"></textarea>
		    </p>
		    <p>
		        <label for="url" class="ui-hidden-accessible">URL:</label>
    		    <input id="url" name="url" type="text" ng-model="currentgift.url" placeholder="URL" />
		    </p>
		    
		    <!-- No need to list recipients if the event is a single-recipient event -->
    		<span ng-hide="circle.receiverLimit == 1">
		    <p>
		        <strong>Recipients</strong>
		    </p>
		    <p>
		      <ul data-role="listview">
                <li>{{commasep(currentgift.recipients)}}</li>
              </ul>
		    </p>
		    </span>
    		
    		<!-- No need to show 'Edit Recipients' button if this is for a single-recipient event -->
    		<span ng-hide="circle.receiverLimit == 1">
    		<div style="margin-top:40px;">
		      <a ng-href="#selectOneRecipient" data-role="button" ng-click="beginAddingRecipients(currentgift)" data-theme="b">Add Recipients</a>
		    </div>
    		<div>
		      <a ng-href="#beginDeletingRecipients" data-role="button" ng-click="prepareDeleteRecipients()" data-theme="b">Delete Recipients</a>
		    </div>
		    </span>
		    
      
		    <div class="ui-grid-a">
              <div class="ui-block-a"><a href="#wishlist" data-role="button" data-theme="b">Cancel</a></div>
		      <div class="ui-block-b"><a href="#wishlist" data-role="button" ng-click="savegift(currentgift)" data-theme="b">Save</a></div>
    		</div>
    	
    	  </fieldset>	
	  </form>
	
	
	</div><!-- /content -->


	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>
<div id="gift2" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Gift</h1>
	</div><!-- /header -->

	<div data-role="content">
	  <form style="margin-top:-20px;">
		  <fieldset data-role="fieldcontain">
            <input type="hidden" name="giftId" ng-model="currentgift.id" />
		    <p>
		        <label for="description" class="ui-hidden-accessible">Description:</label>
    		    <textarea id="description" cols="40" rows="8" name="description" type="text" ng-model="currentgift.description" placeholder="Description"></textarea>
		    </p>
		    <p>
		        <label for="url" class="ui-hidden-accessible">URL:</label>
    		    <input id="url" name="url" type="text" ng-model="currentgift.url" placeholder="URL" />
		    </p>
		    
		    <!-- No need to list recipients if the event is a single-recipient event -->
    		<span ng-hide="circle.receiverLimit == 1">
		    <p>
		        <strong>Recipients</strong> <a data-role="button" ng-href="#editrecipients" data-icon="edit" data-theme="b" data-mini="true" class="ui-btn-right" data-rel="dialog" data-transition="pop">Edit</a>
		    </p>
		    <p>
		      <ul data-role="listview">
                <li>{{commasep(currentgift.recipients)}}</li>
              </ul>
		    </p>
		    </span>
		    
      
		    <div class="ui-grid-a">
              <div class="ui-block-a"><a href="#wishlist" data-role="button" data-theme="b">Cancel</a></div>
		      <div class="ui-block-b"><a href="#wishlist" data-role="button" ng-click="savegift(currentgift)" data-theme="b">Save</a></div>
    		</div>
    	
    	  </fieldset>	
	  </form>
	
	</div><!-- /content -->
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>
<div id="editrecipients" data-role="page">

	<div data-role="header" data-theme="b">
	  <h4>Choose</h4>
	</div><!-- /header -->

	<div data-role="content">
    		<div style="margin-top:40px;">
		      <a ng-href="#selectOneRecipient" data-role="button" ng-click="beginAddingRecipients(currentgift)" data-theme="b">Add Recipients</a>
		    </div>
    		<div>
		      <a ng-href="#beginDeletingRecipients" data-role="button" ng-click="prepareDeleteRecipients()" data-theme="b">Delete Recipients</a>
		    </div>
	</div><!-- /content -->
</div>

<div id="deletereceivers" data-role="page" data-add-back-btn="true">


	<div data-role="header" data-theme="b">
		<h1>Remove</h1>
	</div><!-- /header -->

	<div data-role="content">
	  	  
	    <fieldset data-role="controlgroup">
	        <legend>Remove from this event</legend>
	      
	      
		    <div jquery-mobile-tpl>
			    <ul id="participantsToDelete" data-role="listview" data-inset="true" class="ui-icon-alt" repeat-done="" ng-cloak>
			      <li ng-repeat="r in participants" style="padding:0px;border:0px;">
			        <input name="deleteparticipant-{{r.id}}" id="deleteparticipant-{{r.id}}" type="checkbox" ng-click="prepareDeleteParticipant(r)">
			        <label for="deleteparticipant-{{r.id}}">{{r.fullname}}</label>
			      </li>
			    </ul>
			</div>
	      
	        
	    </fieldset>
	    
	    <div ng-show="participantstodelete.length==0">
	      <button disabled="">Remove People</button>
	    </div>
	    
	    <div ng-show="participantstodelete.length > 0">
	      <a data-role="button" ng-href="#participants" ng-click="removeParticipants(participantstodelete, circle)">Remove
	        <span ng-show="participantstodelete.length > 1"> {{participantstodelete.length}} People</span>
	        <span ng-show="participantstodelete.length == 1"> 1 Person</span>
	      </a>
	    </div>
	  	  
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>

<div id="wwww" data-role="page">


	<div data-role="header" data-theme="b">
		<h1>Remove People</h1>
	</div><!-- /header -->

	<div data-role="content">
	  	  
	  
	  <!-- If there's only one honoree, we can just delete him here -->
	  <span ng-show="circle.receiverLimit == 1 && circle.participants.receivers.length == 1">  
	    <P><a data-role="button" ng-href="#participants" ng-click="deletehonoree(circle)" data-theme="b">Remove Honoree</a></P>
	  </span>
	  
	  
	  <!-- If there's more than one honoree, we have to send the user to a page with users and checkboxes so they can select who to remove -->
	  <span ng-show="circle.receiverLimit > 1 && circle.participants.receivers.length > 1">  
	    <P><a data-role="button" href="#deletereceivers" ng-click="beginDeleteParticipants('Receiver')" data-theme="b">Remove Honoree</a></P>
	  </span>
	    
	  <span ng-show="circle.receiverLimit != -1 && circle.participants.givers.length > 0">  
	    <P><a data-role="button" ng-href="#deletereceivers" ng-click="beginDeleteParticipants('Giver')" data-theme="b">Remove Guests</a></P>
	  </span>
	  
	</div><!-- /content -->


</div>

<div id="addremoveparticipants" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Recipients</h1>
	</div><!-- /header -->

	<div data-role="content">
	
      
      <div ng-show="showAddReceiverButton">
        <a ng-href="#editparticipants" data-role="button" data-theme="b">{{addReceiverButton}}</a>
      </div>
      
      <div ng-show="showDeleteReceiverButton">
        <a data-role="button" ng-href="#deletereceivers" ng-click="beginDeleteParticipants('Receiver')" data-theme="b">{{deleteReceiverButton}}</a>
      </div>
      
      <div ng-show="showAddGiverButton">
        <a ng-href="#editparticipants" data-role="button" data-theme="b">{{addGiverButton}}</a>
      </div>
      
      <div ng-show="showDeleteGiverButton">
        <a data-role="button" ng-href="#deletereceivers" ng-click="beginDeleteParticipants('Giver')" data-theme="b">{{deleteGiverButton}}</a>
      </div>
	
		  
	</div><!-- /content -->

</div>
	

<div id="addfromthisevent" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Add</h1>
	</div><!-- /header -->

	<div data-role="content">
	  
	  Add people from this event
	  
      <div jquery-mobile-tpl>
	    <ul id="addfromthiseventview" data-role="listview" data-inset="true" class="ui-icon-alt" repeat-done="">
	      <li ng-repeat="p in chosencircle.participants.receivers" ng-cloak>
	          <!-- checkbox list of people -->
			  <input name="addthisparticipant-{{p.id}}" id="addthisparticipant-{{p.id}}" type="checkbox" ng-click="prepareAddParticipant(p)">
			  <label for="addthisparticipant-{{p.id}}">{{p.fullname}}</label>
	      </li>
	      <li ng-repeat="p in chosencircle.participants.givers" ng-cloak>
	          <!-- checkbox list of people -->
			  <input name="addthisparticipant-{{p.id}}" id="addthisparticipant-{{p.id}}" type="checkbox" ng-click="prepareAddParticipant(p)">
			  <label for="addthisparticipant-{{p.id}}">{{p.fullname}}</label>
	      </li>
	    </ul>
	  </div>
	 
	  <div><a ng-href="#" data-role="button" ng-click="selectAll(chosencircle)">{{selectAllButton}}</a></div>
		
	  <div ng-hide="participationLevel=='Receiver' && circle.receiverLimit != -1 && (participantstoadd.length > circle.receiverLimit)"> 
		  <div ng-show="participantstoadd.length==0">
		      <button disabled="">Add People</button>
		  </div>
		    
		  <div ng-show="participantstoadd.length > 0">
		      <a data-role="button" ng-href="#participants" ng-click="addParticipants(participantstoadd, circle, participationLevel)">Add
		        <span ng-show="participantstoadd.length > 1"> {{participantstoadd.length}} People</span>
		        <span ng-show="participantstoadd.length == 1"> 1 Person</span>
		      </a>
		  </div>
	  </div>
	  
	  <div ng-show="participationLevel=='Receiver' && circle.receiverLimit != -1 && (participantstoadd.length > circle.receiverLimit)"> 
	    This event only allows {{circle.receiverLimit}} Honoree<span ng-show="circle.receiverLimit > 1">s</span>
	    <P>
	      You need to uncheck {{participantstoadd.length - circle.receiverLimit}} 
	      <span ng-show="participantstoadd.length - circle.receiverLimit == 1">person</span>
	      <span ng-show="participantstoadd.length - circle.receiverLimit > 1">people</span>
	    </P>
	  </div>
	  
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
	  <a ng-href="#scanresults" data-role="button" ng-click="scan()" class="ui-btn-left">Scan</a>
	  <a ng-href="#mypanel" data-role="button" data-icon="bars" class="ui-btn-right" data-iconpos="notext">Menu</a>	
		
      <h4>LittleBlueBird.com</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="mywishlist();setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="friends();setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="events();setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
    
    <div data-role="panel" id="mypanel" data-position="right" data-display="overlay" data-theme="a" data-position-fixed="true">
        <h4>My Account</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#personalinfo" data-mini="true">Personal Info</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#notifications" ng-click="initNtfy()" data-mini="true">Notifications</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#passwordreset" data-mini="true">Password Reset</a></li>
	        <li data-icon="false"><a style="margin-left:10px;" href="#home" ng-click="logout()" data-mini="true">Logout</a></li>
        </ul>
        <h4>Who Are We</h4>
        <ul data-role="listview" data-theme="a">
	        <li data-icon="false"><a style="margin-left:10px;" href="#contactus" data-mini="true">Contact Us</a></li>
        </ul>
    </div><!-- /panel -->


</div>
    <script>
        document.addEventListener('deviceready', 
            function() {
                try {
                    FB.init({ appId: '136122483829', nativeInterface: CDV.FB, useCachedDialogs: false });
                    // document.getElementById('data').innerHTML = "";
                } 
                catch (e) {
                    alert(e);
                }
            },
            false);
    </script>

</body>
</html>
