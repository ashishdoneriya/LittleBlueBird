<!DOCTYPE html>
<html xmlns:ng="http://angularjs.org/" ng-app="project">
<head>
    <title>LittleBlueBird</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.css"/>
    <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.js"></script>
    <script src="js/angular.js"></script>
    <script src="js/angular-resource.js"></script>
  
    <script src="js/services.js"></script>
    <script src="js/controllers.js"></script>
    
  <meta charset="utf-8">
  <meta property="og:title" content="LittleBlueBird" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/" />
  <meta property="og:image" content="img/LittleBlueBird-icon.png" />
  <meta property="og:site_name" content="LittleBlueBird" />
  <meta property="og:description" content="LittleBlueBird app" />
  <meta property="fb:app_id" content="136122483829" />

  <!-- 2013-07-23  I think this works but don't want it now - fills up the js console -->
  <!-- script src="http://debug.phonegap.com/target/target-script-min.js#anonymous"></script -->
  
  <!-- cordova -->
  <script type="text/javascript" src="cordova.js"></script>
  <!-- cordova facebook plugin -->
  <script type="text/javascript" src="cdv-plugin-fb-connect.js"></script>
  <!-- facebook js sdk -->
  <script type="text/javascript" src="facebook-js-sdk.js"></script>
  
  <script type="text/javascript" charset="utf-8">

    // Wait for Cordova to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);

    // Cordova is ready
    //
    function onDeviceReady() {
      setTimeout(function() {
        navigator.splashscreen.hide();
      }, 2000);
    }

  </script>
  
  	
</head>
<body ng-controller="LbbController">


<div id="home" data-role="page">
    <div data-role="header" data-theme="b"><h1>LittleBlueBird</h1></div>
	
	<div data-role="content">
		<p><a ng-click="fblogin()" data-role="button" data-theme="b">Login via Facebook</a> </p>	
		<p><a href="#lbblogin" data-role="button" data-theme="b">Login via LittleBlueBird</a> </p>	
		<p><a href="#register" data-role="button" data-theme="b" ng-click="initNewUser()">Register</a> </p>	
		<p><a href="#forgot" data-role="button" data-theme="b">Forgot User/Pass?</a> </p>	
	</div><!-- /content -->

	<div data-role="footer" data-theme="b" data-position="fixed">
	  <h4>Home</h4>
	</div><!-- /footer -->

</div>
<div id="lbblogin" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>LittleBlueBird</h1>
	</div><!-- /header -->

	<div data-role="content">
		<form novalidate>
		  <fieldset data-role="fieldcontain">
		    <p>
		        <label for="username" class="ui-hidden-accessible">Username:</label>
    		    <input id="username" name="username" type="text" ng-model="username" placeholder="Username" />
    		</p>
		    <p>
		        <label for="password" class="ui-hidden-accessible">Password:</label>
    		    <input id="password" name="password" type="password" ng-model="password" placeholder="Password" />
    		</p>
		    <p>
		        <a href="#welcome" ng-click="lbblogin($event)" data-role="button" data-theme="b">Login</a>
    		</p>
    	  </fieldset>	
		</form>		
	</div><!-- /content -->

	<div data-role="footer" data-theme="b" data-position="fixed">
	  <h4></h4>
	</div><!-- /footer -->
</div><!-- /page -->
<div id="forgot" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>LittleBlueBird</h1>
	</div><!-- /header -->

	<div data-role="content">
		<form novalidate>
		    <div data-role="fieldcontain">
		        <label for="email" class="ui-hidden-accessible">Email:</label>
    		    <input id="email" name="email" type="text" ng-model="email" placeholder="Email" />
    		</div>
		    <div data-role="fieldcontain">
		        <a ng-click="emailIt(email)" data-role="button" data-theme="b">Email User/Pass</a>
    		</div>
		</form>	
	</div><!-- /content -->

	<div data-role="footer" data-theme="b" data-position="fixed">
	  <h4></h4>
	</div><!-- /footer -->
</div><!-- /page -->
<div id="register" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Register</h1>
	</div><!-- /header -->

	<div data-role="content">
		<form novalidate name="regForm">
		    <fieldset data-role="fieldcontain">
		      <P>
		        <label for="name" class="ui-hidden-accessible">Name:</label>
    		    <input id="name" name="fullname" type="text" ng-model="newuser.fullname" placeholder="Name" required/>
    		  </P>
		      <P>
		        <label for="email" class="ui-hidden-accessible">Email:</label>
    		    <input id="email" name="email" type="email" ng-model="newuser.email" placeholder="Email" required/>
    		  </P>
		      <P>
		        <label for="username" class="ui-hidden-accessible">Username:</label>
    		    <input id="username" name="username" type="text" ng-model="newuser.username" placeholder="Username" ng-change="isUsernameUnique(newuser, regForm)"  required/>
    		  </P>
		      <P>
		        <label for="password" class="ui-hidden-accessible">Password:</label>
    		    <input id="password" name="password" type="password" ng-model="newuser.password" placeholder="Password" required/>
    		  </P>
		      <P>
		        <label for="passagain" class="ui-hidden-accessible">Password (again):</label>
    		    <input id="passagain" name="passagain" type="password" ng-model="passagain" placeholder="Password (again)" required/>
    		  </P>
		      <P>
		        <span ng-hide="regForm.$invalid || (passagain != newuser.password && !regForm.passagain.$error.required)">
		          <a ng-href="#welcome" ng-click="register(newuser)" data-role="button" data-theme="b">Register</a>
		        </span>
		        <span ng-show="regForm.$invalid || (passagain != newuser.password && !regForm.passagain.$error.required)">
		          <button disabled="" ng-click="register(newuser)" data-role="button" data-theme="b">Register</button>
		        </span>
    		  </P>
    		</fieldset>
		
            <span ng-show="regForm.username.$dirty">
              <span ng-show="regForm.username.$error.taken">
                <P style="color:#cc0000;">Usernames must be unique.  '{{newuser.username}}' has already been taken.</P>
              </span>
            </span>
		</form>	
		
	</div><!-- /content -->

	<div data-role="footer" data-theme="b" data-position="fixed">
	  <h4>LittleBlueBird</h4>
	</div><!-- /footer -->
</div><!-- /page -->
<div id="welcome" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>{{user.fullname}}</h1>
	</div><!-- /header -->

	<div data-role="content">
	
	  <span ng-show="logingood">
	  <ul data-role="listview" data-inset="true" class="ui-icon-alt">
	    <li><a href="#wishlist" ng-click="mywishlist()" data-transition="slide">My Wish List</a></li>
	    <li><a href="#events" data-transition="slide">Events</a></li>
	    <li><a href="#friends" data-transition="slide">Friends</a></li>
	  </ul>
	  </span>
	
	
	</div><!-- /content -->

	<div data-role="footer" data-theme="b" data-position="fixed">
	  <h4>LittleBlueBird</h4>
	</div><!-- /footer -->
</div><!-- /page -->
<div id="woops" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>LittleBlueBird</h1>
	</div><!-- /header -->

	<div data-role="content">
	  <p>Woops!  Not sure how you got here</p>
	  <p>Hit the Back button</p>
	</div><!-- /content -->

	<div data-role="footer" data-theme="b" data-position="fixed">
	  <h4></h4>
	</div><!-- /footer -->
</div><!-- /page -->

<div id="events" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Events</h1>
	</div><!-- /header -->

	<div data-role="content">
	  <ul data-role="listview" data-inset="true" class="ui-icon-alt">
	      <li ng-repeat="c in user.circles"><a href="#">{{c.name}}</a></li>
	  </ul>
	</div><!-- /content -->


	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
      <h4>LittleBlueBird</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="showUser=user;setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
</div><!-- /page -->
<div id="wishlist" data-role="page">

	<div data-role="header" data-theme="b">
		<a href="#welcome" data-rel="back" data-icon="arrow-l" data-transition="slide">Back</a>
		<h1>Wish List</h1>
		<a href="#edititem" ng-click="initNewGift()" data-transition="slideup" data-icon="plus">Add</a>
	</div><!-- /header -->

	<div data-role="content">
	  
	  <span ng-show="showUser==user">My Wish List</span>
	  <span ng-hide="showUser==user">{{showUser.fullname}}'s Wish List</span>
	
      <div jquery-mobile-tpl>
        <ul id="wishlistview" data-role="listview" data-inset="true" class="ui-icon-alt" repeat-done="" ng-cloak>
          <li data-ng-repeat="gift in gifts"><a href="#gift" ng-click="setcurrentgift($index, gift)" data-transition="slide">{{gift.description}}</a></li>
        </ul>
      </div>
	  
	</div><!-- /content -->


	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
      <h4>LittleBlueBird</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="showUser=user;setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
</div><!-- /page -->

<div id="friends" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Friends</h1>
	</div><!-- /header -->

	<div data-role="content">
	  	  
      <div jquery-mobile-tpl>
	    <ul id="friendview" data-role="listview" data-inset="true" class="ui-icon-alt" repeat-done="" ng-cloak>
	      <li ng-repeat="friend in user.friends">
	        <a href="#wishlist" ng-click="friendwishlist(friend)" data-transition="slide">
	          {{friend.fullname}}
	        </a>
	      </li>
	    </ul>
	  </div>
	  
	</div><!-- /content -->


	
	
	<div data-role="footer" data-id="persistentfooter" data-theme="b" data-position="fixed">
      <h4>LittleBlueBird</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist" ng-click="showUser=user;setfootermenu('wishlist')" ng-class="footermenustyle('wishlist')">Wish List</a></li>
            <li><a href="#friends" ng-click="setfootermenu('friends')" ng-class="footermenustyle('friends')">Friends</a></li>
            <li><a href="#events" ng-click="setfootermenu('events')" ng-class="footermenustyle('events')">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
</div><!-- /page -->

<div id="edititem" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Gift</h1>
	</div><!-- /header -->

	<div data-role="content">
	  
	  <form>
		  <fieldset data-role="fieldcontain">
            <input type="hidden" name="giftId" ng-model="currentgift.id" />
		    <p>
		        <label for="description" class="ui-hidden-accessible">Description:</label>
    		    <textarea id="description" cols="40" rows="8" name="description" type="text" ng-model="currentgift.description" placeholder="Description"></textarea>
		    </p>
		    <p>
		        <label for="url" class="ui-hidden-accessible">URL:</label>
    		    <input id="url" name="url" type="text" ng-model="currentgift.url" placeholder="URL" />
		    </p>
		    <p>
		        Recipients:
		    </p>
		    
		    <p>
		      <ul data-role="listview">
                <li ng-repeat="r in gift.recipients">{{r.fullname}}</li>
              </ul>
		    </p>
      
		    <div class="ui-grid-b">
              <div class="ui-block-a"><button href="#wishlist">Cancel</button></div>
		      <div class="ui-block-b"><button href="#wishlist" ng-click="savegift(currentgift)" data-theme="b">Add Recipient</button></div>
		      <div class="ui-block-c"><button href="#wishlist" ng-click="savegift(currentgift)" data-theme="b">Save</button></div>
    		</div>
    	
    	  </fieldset>	
	  </form>
	</div><!-- /content -->

	<div data-role="footer" data-theme="b" data-position="fixed">
	  <h4>LittleBlueBird</h4>
	</div><!-- /footer -->
</div><!-- /page -->
<div id="gift" data-role="page" data-add-back-btn="true">

	<div data-role="header" data-theme="b">
		<h1>Gift</h1>
	</div><!-- /header -->

	<div data-role="content">
	 <P><b>Gift: </b>{{currentgift.description}}</P>
	 
	 <P><b>Recipient(s): </b><span ng-repeat="r in currentgift.recipients">{{r.fullname}}</span></P>
	 
	 
	 <div ng-show="circle!=null">
	   <P><b>Event: </b> {{circle.name}} {{circle.date | date:'EEE MMM d, yyyy'}}</P>
	 </div>
	
	<P>
	  <span ng-show="currentgift.canedit">
	    <a href="#edititem" data-theme="b" data-role="button">Edit</a>
	  </span>
	  <span ng-show="currentgift.candelete">
	    <a href="#wishlist" ng-click="deletegift(currentgift)" data-theme="c" data-role="button">Delete</a>
	  </span>
	</P>
	
	</div><!-- /content -->

	
	<div data-role="footer" data-theme="b" data-position="fixed">
      <h4>LittleBlueBird</h4>
      <div data-role="navbar">
        <ul>
            <li><a href="#wishlist">Wish List</a></li>
            <li><a href="#friends">Friends</a></li>
            <li><a href="#events">Events</a></li>
        </ul>
      </div><!-- /navbar -->
    </div><!-- /footer -->
	
	
</div><!-- /page -->

</body>
</html>
